<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Manipulate Systems via SkySQL Manager API</title>
	<link href="testresources/css/default.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
	  <div id="header">
		  <div id="logo">
			<h1><a href="#">Manager API</a></h1>
			<p><span>Read about it and try it out</span></p>
		  </div>
		  <div id="menu">
			<ul>
			  <li><a href="index.html">About</a></li>
			  <li class="active"><a href="systemform.html">System</a></li>
			  <li><a href="nodeform.html">Node</a></li>
			  <li><a href="userform.html">User</a></li>
			  <li><a href="backupform.html">Backup</a></li>
			  <li><a href="monitorform.html">Monitor</a></li>
			  <li><a href="jobform.html">Task</a></li>
			</ul>
		  </div>
	  </div>	
	<div id="page">
	<div id="content">
	<h2>System Management via SkySQL Manager API</h2>
	<div class="section">
	  <h3>Get System Types</h3>
	  <form action="" method="post" id="getsystemtypes" target="apiresults" onsubmit="return(setFields(this.id,'systemtype'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /systemtype
			<br />
			Parameters: None
		</p>
		<p class="formfields">
			<input type="submit" class="submit" value="List Types" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	<div class="section">
	  <h3>Get all Systems</h3>
	  <form action="" method="post" id="getsystem" target="apiresults" onsubmit="return(setFields(this.id,'system'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system
			<br />
			Parameters: 
			<a class="tooltip" href="#">fields 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>fields</strong><br />
			Comma separated list of the field names that you would like to be returned. If not specified,
			all fields are returned.
			</span>
			</a><br />
			Default: All fields <br />
		</p>
		<p class="formfields">
			<label for="fieldsas">Fields to return</label>
			<input type="text" name="fields" id="fieldsas" /><br />
			<input type="submit" class="submit" value="List" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Create or Update a System</h3>
	  <form action="" method="post" id="putsystem" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="PUT" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid} <br />
			Parameters:
			<a class="tooltip" href="#">systemtype,<span class="custom info">
			<img src="testresources/images/Info.png" alt="Type parameter" height="48" width="48" />
			<strong>systemtype</strong><br />
			The type of the system e.g. galera or aws (text).
			</span></a>&nbsp;
			<a class="tooltip" href="#">name,<span class="custom info">
			<img src="testresources/images/Info.png" alt="Name parameter" height="48" width="48" />
			<strong>name</strong><br />
			The name you want to give to the system (text).
			</span></a>&nbsp;
			<a class="tooltip" href="#">state 
			<span class="custom info"><img src="testresources/images/Info.png" alt="State parameter" height="48" width="48" />
			<strong>state</strong><br />
			The state code to be given to the system, must be selected from valid system states (string).
			</span></a>&nbsp;
			<a class="tooltip" href="#">dbusername,<span class="custom info">
			<img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>dbusername</strong><br />
			The user name for the node database for general queries, process list etc. (text).
			</span></a>&nbsp;
			<a class="tooltip" href="#">dbpassword<span class="custom info">
			<img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>dbpassword</strong><br />
			The password for the node for general queries, process list etc. (text).
			</span></a>&nbsp;
			<a class="tooltip" href="#">repusername,<span class="custom info">
			<img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>repusername</strong><br />
			The user name for the node database replication user (text).
			</span></a>&nbsp;
			<a class="tooltip" href="#">reppassword<span class="custom info">
			<img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>reppassword</strong><br />
			The password for the node database replication user (text).
			</span>
			</a><br />
		</p>
		<p class="formfields">
			<label for="systemid">System ID</label>
			<input type="text" name="uri1" id="systemid" /><br />
			<label for="type">System Type</label>
			<input type="text" id="type" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'systemtype');" /><br />
			<label for="name">System Name</label>
			<input type="text" id="name" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'name');" /><br />
			<label for="state">State</label>
			<input type="text" id="state" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'state');" /><br />
			<label for="username">DB User Name</label>
			<input type="text" id="username" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'dbusername');" /><br />
			<label for="passwd">DB Password</label>
			<input type="text" id="passwd" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'dbpassword');" /><br />
			<label for="repusername">DB Repln Name</label>
			<input type="text" id="repusername" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'repusername');" /><br />
			<label for="reppasswd">DB Repln Password</label>
			<input type="text" id="reppasswd" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'reppassword');" /><br />
			<input type="submit" class="submit" value="Create or Update" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Delete a System</h3>
	  <form action="" method="post" id="delsystem" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="DELETE" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid} <br />
			No parameters <br />
		</p>
		<p class="formfields">
			<label for="systemidd">System ID</label>
			<input type="text" name="uri1" id="systemidd" /><br />
			<input type="submit" class="submit" value="Delete" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Get System Information</h3>
	  <form action="" method="post" id="systeminfo" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid} <br />
			Parameters: 
			<a class="tooltip" href="#">fields 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>fields</strong><br />
			Comma separated list of the field names that you would like to be returned. If not specified,
			all fields are returned.
			</span>
			</a><br />
			Default: All fields <br />
		</p>
		<p class="formfields">
			<label for="systemidx">System ID</label>
			<input type="text" name="uri1" id="systemidx" /><br />
			<label for="fieldssi">Fields to return</label>
			<input type="text" name="fields" id="fieldssi" /><br />
			<input type="submit" class="submit" value="Information" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Get System Property</h3>
	  <form action="" method="post" id="getsystemprop" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid}/property/{propertyname} <br />
			No parameters <br />
		</p>
		<p class="formfields">
			<label for="systemidpg">System ID</label>
			<input type="text" name="uri1" id="systemidpg" /><br />
			<label for="propertynameg">Property Name</label>
			<input type="text" name="uri2" id="propertynameg" /><br />
			<input type="submit" class="submit" value="Get Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Create or Update a System Property</h3>
	  <form action="" method="post" id="putsystemprop" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="PUT" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid}/property/{propertyname} <br />
			Parameter is 
			<a class="tooltip" href="#">value 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>value</strong><br />
			The value you want to give to the property you are creating or updating.
			</span>
			</a><br />
		</p>
		<p class="formfields">
			<label for="systemidp">System ID</label>
			<input type="text" name="uri1" id="systemidp" /><br />
			<label for="propertyname">Property Name</label>
			<input type="text" name="uri2" id="propertyname" /><br />
			<label for="value">Value</label>
			<input type="text" name="value" id="value" /><br />
			<input type="submit" class="submit" value="Create or Update Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Delete a System Property</h3>
	  <form action="" method="post" id="delsystemprop" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="DELETE" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid}/property/{propertyname} <br />
			No parameters <br />
		</p>
		<p class="formfields">
			<label for="systemiddp">System ID</label>
			<input type="text" name="uri1" id="systemiddp" /><br />
			<label for="propertynamed">Property Name</label>
			<input type="text" name="uri2" id="propertynamed" /><br />
			<input type="submit" class="submit" value="Delete Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Get Application Property</h3>
	  <form action="" method="post" id="getapplicprop" target="apiresults" onsubmit="return(setFields(this.id,'application','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /application/{appid}/property/{propertyname} <br />
			No parameters <br />
		</p>
		<p class="formfields">
			<label for="appidpg">Application ID</label>
			<input type="text" name="uri1" id="appidpg" /><br />
			<label for="propertynameag">Property Name</label>
			<input type="text" name="uri2" id="propertynameag" /><br />
			<input type="submit" class="submit" value="Get Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Create or Update an Application Property</h3>
	  <form action="" method="post" id="putappnprop" target="apiresults" onsubmit="return(setFields(this.id,'application','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="PUT" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /application/{appid}/property/{propertyname} <br />
			Parameter is 
			<a class="tooltip" href="#">value 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>value</strong><br />
			The value you want to give to the property you are creating or updating.
			</span>
			</a><br />
		</p>
		<p class="formfields">
			<label for="appidp">ApplicationID</label>
			<input type="text" name="uri1" id="appdp" /><br />
			<label for="propertynamea">Property Name</label>
			<input type="text" name="uri2y" id="propertynamea" /><br />
			<label for="valueap">Value</label>
			<input type="text" name="value" id="valueap" /><br />
			<input type="submit" class="submit" value="Create or Update Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	  <div class="section">
	  <h3>Delete an Application Property</h3>
	  <form action="" method="post" id="delappnprop" target="apiresults" onsubmit="return(setFields(this.id,'application','uri1','property','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="DELETE" class="httpmethod" readonly="readonly" /><br />
			Request URI will be /system/{systemid}/property/{propertyname} <br />
			No parameters <br />
		</p>
		<p class="formfields">
			<label for="appiddp">Application ID</label>
			<input type="text" name="uri1" id="appiddp" /><br />
			<label for="propertynamead">Property Name</label>
			<input type="text" name="uri2" id="propertynamead" /><br />
			<input type="submit" class="submit" value="Delete Property" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
			</p>
		</form>
	  </div>
	</div>
	<div id="sidebar">
	  <div id="preamble">
		<h3>The API explorer tool</h3>
	    <p>
			See <a href="index.html">About</a> for general information.
		</p>
		<p>
			You can configure the 
			API key ID, the key itself and the location of the API below:
		</p>
		<p class="configuration">
			<strong>API ID:</strong> <span id="showapikeyid"></span>
		  (<a href="javascript:void(0)" onclick="resetPersistent('myKeyID','showapikeyid');">reset</a>)
		  <br />
		  <strong>API Key:</strong><br /> <span id="showapikey"></span>
		  (<a href="javascript:void(0)" onclick="resetPersistent('myKey','showapikey');">reset</a>)
		  <br />
		  <strong>Endpoint:</strong><br /> <span id="showlink"></span>
		  (<a href="javascript:void(0)" onclick="resetPersistent('myLink','showlink');">reset</a>)
	    </p>
		<p>
			For this group of API requests, the various possibilities are listed on the left.
			Each one is a form which you can complete and then click on the blue submit button.
			When you click on a button for the first time, results will be in a new tab or window.  Once 
			the second tab/window has been created, every time you click on a button the results will be
			in that tab/window.  This page should remain until you choose to close it.
		</p>
		<p>
			The API is capable of replying with HTML responses, but this page is configured to ask the
			API to answer with JSON.  Different browsers will treat this in different ways (including 
			possibly not showing it at all).  There are several addons for Firefox that will display JSON
			prettily, and there may well be similar addons for other browsers.  You can control how the
			API replies by including or excluding &quot;application/json&quot; in the HTTP Accept
			header - the API will only reply with JSON if it is included.
		</p>
		<h3>Parameters to API calls</h3>
		<p>
			The form fields that are needed to make the Request URI are usually mandatory.  If
			they are omitted, the request will still be sent to the API but results will vary
			according to the exact Request URI sent and may be erroneous.
		</p>
		<p>
			By and large, parameters are optional.  If they are not, you will see an error return when 
			they are omitted.  The Request URI is the information that will be added to the location
			to which requests are being sent (shown above).  It is literal text except for items that
			are enclosed in curly brackets.  Items in curly brackets are taken from the form field
			with the approximately similar name.
		</p>
		<p>
			When using this HTML explorer, optional parameter fields will have a pink background
			after you put the cursor into them.  If a field has a pink background, it will be sent
			to the API, even if it is empty.  Where an optional field has a white background, it
			will not be sent to the API.  You can clear the pink background by double clicking in
			the field.
		</p>
		<p>
			If parameters (apart from the information in the URI) are submitted with a
			GET request, they must be supplied in the form of a standard query string.
			That is, a series of name-data assignments separated by ampersand.
			For example, 'systemid=4&amp;nodeid=2'
		</p>
		<p>
			Where parameters are submitted with an HTTP PUT request, there is a single string passed
			with the request.  The string should be a query string, similar to that provided for GET.
		</p>
		<p>
			Where parameters are submitted with an HTTP POST request, the usual conventions for POST
			apply, so that each parameter is a POST data item.
		</p>	
		<p>
			This page does not check information submitted in the form fields, but sends it directly
			to the API.  If the information submitted is invalid, the API will send back an error 
			message.
		</p>
	  </div>
	</div>
	</div>
		<script type="text/javascript" src="testresources/js/md5.js"></script>
		<script type="text/javascript" src="testresources/js/testapi.js"></script>
    </body>
</html>
